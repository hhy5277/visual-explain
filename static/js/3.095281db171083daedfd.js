webpackJsonp([3],{FTr7:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r("Zrlr"),s=r.n(a),n=r("wxAW"),o=r.n(n),i=function(){function t(e,r){s()(this,t),this.svgNode=e,this.d3=r}return o()(t,[{key:"initData",value:function(){var t=this;this.links=[{source:"Microsoft",target:"Amazon",type:"licensing"},{source:"Microsoft",target:"HTC",type:"licensing"},{source:"Samsung",target:"Apple",type:"suit"},{source:"Motorola",target:"Apple",type:"suit"},{source:"Nokia",target:"Apple",type:"resolved"},{source:"HTC",target:"Apple",type:"suit"},{source:"Kodak",target:"Apple",type:"suit"},{source:"Microsoft",target:"Barnes & Noble",type:"suit"},{source:"Microsoft",target:"Foxconn",type:"suit"},{source:"Oracle",target:"Google",type:"suit"},{source:"Apple",target:"HTC",type:"suit"},{source:"Microsoft",target:"Inventec",type:"suit"},{source:"Samsung",target:"Kodak",type:"resolved"},{source:"LG",target:"Kodak",type:"resolved"},{source:"RIM",target:"Kodak",type:"suit"},{source:"Sony",target:"LG",type:"suit"},{source:"Kodak",target:"LG",type:"resolved"},{source:"Apple",target:"Nokia",type:"resolved"},{source:"Qualcomm",target:"Nokia",type:"resolved"},{source:"Apple",target:"Motorola",type:"suit"},{source:"Microsoft",target:"Motorola",type:"suit"},{source:"Motorola",target:"Microsoft",type:"suit"},{source:"Huawei",target:"ZTE",type:"suit"},{source:"Ericsson",target:"ZTE",type:"suit"},{source:"Kodak",target:"Samsung",type:"resolved"},{source:"Apple",target:"Samsung",type:"suit"},{source:"Kodak",target:"RIM",type:"suit"},{source:"Nokia",target:"Qualcomm",type:"suit"}],this.nodes={},this.links.forEach(function(e){e.source=t.nodes[e.source]||(t.nodes[e.source]={name:e.source}),e.target=t.nodes[e.target]||(t.nodes[e.target]={name:e.target})}),console.log(this.nodes)}},{key:"initView",value:function(){this.svgNode.append("defs").selectAll("marker").data(["suit","licensing","resolved"]).enter().append("marker").attr("id",function(t){return t}).attr("viewBox","0 -5 10 10").attr("refX",22).attr("refY",-1.5).attr("markerWidth",6).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M0,-5L10,0L0,5"),this.path=this.svgNode.append("g").selectAll("path").data(this.links).enter().append("path").attr("class",function(t){return"link "+t.type}).attr("marker-end",function(t){return"url(#"+t.type+")"}),this.circle=this.svgNode.append("g").selectAll("circle").data(this.d3.values(this.nodes)).enter().append("circle").attr("r",10).style("cursor","pointer").call(this.enableDragFunc()),this.text=this.svgNode.append("g").selectAll("text").data(this.d3.values(this.nodes)).enter().append("text").attr("x",12).attr("y",".31em").text(function(t){return t.name})}},{key:"linkArc",value:function(t){var e=t.target.x-t.source.x,r=t.target.y-t.source.y,a=Math.sqrt(e*e+r*r);return"M"+t.source.x+","+t.source.y+"A"+a+","+a+" 0 0,1 "+t.target.x+","+t.target.y}},{key:"draw",value:function(){var t=this;this.initData(),this.initView();var e=parseInt(this.svgNode.style("width").substring(0,this.svgNode.style("width").length-2)),r=parseInt(this.svgNode.style("height").substring(0,this.svgNode.style("height").length-2));function a(t){return"translate("+t.x+","+t.y+")"}var s=this.d3.forceLink(this.links).distance(80).strength(.2).iterations(3);this.force=this.d3.forceSimulation(this.d3.values(this.nodes)).force("charge",this.d3.forceManyBody().strength(50)).force("collide",this.d3.forceCollide().radius(50)).force("link",s).force("center",this.d3.forceCenter().x(e/2).y(r/2)).on("tick",function(){t.path&&(t.path.attr("d",t.linkArc),t.circle.attr("transform",a),t.text.attr("transform",a))}),this.svgNode.attr("width",e).attr("height",r),this.enableDragFunc()}},{key:"enableDragFunc",value:function(){var t=this;return this.d3.drag().on("start",function(e){t.d3.event.active||t.force.alphaTarget(.3).restart(),e.fx=t.d3.event.x,e.fy=t.d3.event.y}).on("drag",function(e){e.fx=t.d3.event.x,e.fy=t.d3.event.y}).on("end",function(e){t.d3.event.active||t.force.alphaTarget(0),e.fx=null,e.fy=null})}},{key:"drawSampleNodes",value:function(){var t=this.svgNode.append("g").attr("class","sampleContainer"),e=[{source:{name:"Nokia",x:200,y:100},target:{name:"Qualcomm",x:300,y:100},title:"Still in suit:",type:"suit"},{source:{name:"Qualcomm",x:200,y:200},target:{name:"Nokia",x:300,y:200},title:"Already resolved:",type:"resolved"},{source:{name:"Microsoft",x:200,y:300},target:{name:"Amazon",x:300,y:300},title:"Locensing now:",type:"licensing"}],r={};e.forEach(function(t,e){r[t.source.name+e]=t.source,r[t.target.name+e]=t.target}),t.selectAll("path").data(e).enter().append("path").attr("class",function(t){return"link "+t.type}).attr("marker-end",function(t){return"url(#"+t.type+")"}).attr("d",this.linkArc),t.selectAll("circle").data(this.d3.values(r)).enter().append("circle").attr("r",10).style("cursor","pointer").attr("transform",function(t){return"translate("+t.x+", "+t.y+")"}),t.selectAll(".companyTitle").data(this.d3.values(r)).enter().append("text").style("text-anchor","middle").attr("x",function(t){return t.x}).attr("y",function(t){return t.y+24}).text(function(t){return t.name}),t.selectAll(".title").data(e).enter().append("text").attr("class","msg-title").style("text-anchor","end").attr("x",function(t){return t.source.x-30}).attr("y",function(t){return t.source.y+5}).text(function(t){return t.title})}}]),t}(),c={name:"PatentSuit",data:function(){return{graphGenerator:null}},methods:{},mounted:function(){var t=this.$d3.select(".main-svg");this.graphGenerator=new i(t,this.$d3),this.graphGenerator.draw(),this.graphGenerator.drawSampleNodes()}},u={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"patent-suit"}},[e("svg",{staticClass:"main-svg"})])},staticRenderFns:[]};var l=r("VU/8")(c,u,!1,function(t){r("g3VM")},null,null);e.default=l.exports},g3VM:function(t,e){}});
//# sourceMappingURL=3.095281db171083daedfd.js.map